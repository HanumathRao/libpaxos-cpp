<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>libpaxos-cpp: paxos::detail::quorum::quorum Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libpaxos-cpp
   &#160;<span id="projectnumber">0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacepaxos.html">paxos</a></li><li class="navelem"><b>detail</b></li><li class="navelem"><b>quorum</b></li><li class="navelem"><a class="el" href="classpaxos_1_1detail_1_1quorum_1_1quorum.html">quorum</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classpaxos_1_1detail_1_1quorum_1_1quorum-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">paxos::detail::quorum::quorum Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Represents the quorum and provides interface to utility funcitons.  
 <a href="classpaxos_1_1detail_1_1quorum_1_1quorum.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="quorum_8hpp_source.html">quorum.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a66e8d70bf51114cb1ce49bb997aa05b4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpaxos_1_1detail_1_1quorum_1_1quorum.html#a66e8d70bf51114cb1ce49bb997aa05b4">quorum</a> (boost::asio::io_service &amp;io_service)</td></tr>
<tr class="memdesc:a66e8d70bf51114cb1ce49bb997aa05b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for clients.  <a href="#a66e8d70bf51114cb1ce49bb997aa05b4"></a><br/></td></tr>
<tr class="memitem:a8b0385158b9bc3f8de57bfc9ef218dd2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8b0385158b9bc3f8de57bfc9ef218dd2"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>quorum</b> (boost::asio::io_service &amp;io_service, boost::asio::ip::tcp::endpoint const &amp;endpoint)</td></tr>
<tr class="memitem:a3deb81dfd66e4eadd005631c36e4aef2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpaxos_1_1detail_1_1quorum_1_1quorum.html#a3deb81dfd66e4eadd005631c36e4aef2">reset</a> ()</td></tr>
<tr class="memdesc:a3deb81dfd66e4eadd005631c36e4aef2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets our state completely.  <a href="#a3deb81dfd66e4eadd005631c36e4aef2"></a><br/></td></tr>
<tr class="memitem:af65f741b04da3027f102ba2fcb7d82b1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpaxos_1_1detail_1_1quorum_1_1quorum.html#af65f741b04da3027f102ba2fcb7d82b1">new_leader</a> (boost::asio::ip::tcp::endpoint const &amp;endpoint)</td></tr>
<tr class="memdesc:af65f741b04da3027f102ba2fcb7d82b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when a new leader is announced.  <a href="#af65f741b04da3027f102ba2fcb7d82b1"></a><br/></td></tr>
<tr class="memitem:a291dc085df3ae0ea435e97035b3d32e6"><td class="memItemLeft" align="right" valign="top">boost::asio::ip::tcp::endpoint <br class="typebreak"/>
const &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpaxos_1_1detail_1_1quorum_1_1quorum.html#a291dc085df3ae0ea435e97035b3d32e6">our_endpoint</a> () const </td></tr>
<tr class="memdesc:a291dc085df3ae0ea435e97035b3d32e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Access to our own endpoint, so we can identify ourselves.  <a href="#a291dc085df3ae0ea435e97035b3d32e6"></a><br/></td></tr>
<tr class="memitem:ad8101e9162026c5cf78d75e5aa828687"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad8101e9162026c5cf78d75e5aa828687"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpaxos_1_1detail_1_1quorum_1_1quorum.html#ad8101e9162026c5cf78d75e5aa828687">we_have_our_endpoint</a> () const </td></tr>
<tr class="memdesc:ad8101e9162026c5cf78d75e5aa828687"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines whether an endpoint was registered. <br/></td></tr>
<tr class="memitem:a932b58532007d8ee2d181c1c0363f5c8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a932b58532007d8ee2d181c1c0363f5c8"></a>
enum <a class="el" href="classpaxos_1_1detail_1_1quorum_1_1server.html#a4bcb862de9465ec26ec7150ca35977ad">server::state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpaxos_1_1detail_1_1quorum_1_1quorum.html#a932b58532007d8ee2d181c1c0363f5c8">our_state</a> () const </td></tr>
<tr class="memdesc:a932b58532007d8ee2d181c1c0363f5c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Based on our_endpoint (), looks up the state we currently have. <br/></td></tr>
<tr class="memitem:a52e5397f7a1851f230468179315ad624"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a52e5397f7a1851f230468179315ad624"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpaxos_1_1detail_1_1quorum_1_1quorum.html#a52e5397f7a1851f230468179315ad624">set_host_state</a> (boost::asio::ip::tcp::endpoint const &amp;<a class="el" href="classpaxos_1_1detail_1_1quorum_1_1server.html">server</a>, enum <a class="el" href="classpaxos_1_1detail_1_1quorum_1_1server.html#a4bcb862de9465ec26ec7150ca35977ad">server::state</a> state)</td></tr>
<tr class="memdesc:a52e5397f7a1851f230468179315ad624"><td class="mdescLeft">&#160;</td><td class="mdescRight">Based on endpoint, adjusts a server's state. <br/></td></tr>
<tr class="memitem:af4be2e65e7a38e97b7ced1323741f147"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af4be2e65e7a38e97b7ced1323741f147"></a>
boost::uuids::uuid const &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpaxos_1_1detail_1_1quorum_1_1quorum.html#af4be2e65e7a38e97b7ced1323741f147">our_id</a> () const </td></tr>
<tr class="memdesc:af4be2e65e7a38e97b7ced1323741f147"><td class="mdescLeft">&#160;</td><td class="mdescRight">Based on our_endpoint (), looks up our host's id. <br/></td></tr>
<tr class="memitem:ae61c1124793219e8272de4237ec5656c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae61c1124793219e8272de4237ec5656c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpaxos_1_1detail_1_1quorum_1_1quorum.html#ae61c1124793219e8272de4237ec5656c">set_host_id</a> (boost::asio::ip::tcp::endpoint const &amp;<a class="el" href="classpaxos_1_1detail_1_1quorum_1_1server.html">server</a>, boost::uuids::uuid const &amp;id)</td></tr>
<tr class="memdesc:ae61c1124793219e8272de4237ec5656c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Based on endpoint, adjusts a server's unique identifier. <br/></td></tr>
<tr class="memitem:aa7b2abfde6029974dfa8d6b01a1886f6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa7b2abfde6029974dfa8d6b01a1886f6"></a>
boost::asio::ip::tcp::endpoint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpaxos_1_1detail_1_1quorum_1_1quorum.html#aa7b2abfde6029974dfa8d6b01a1886f6">who_should_be_leader</a> () const </td></tr>
<tr class="memdesc:aa7b2abfde6029974dfa8d6b01a1886f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the endpoint of the host within our quorum we think should be a leader. <br/></td></tr>
<tr class="memitem:af06e6155df04541341baa14ed0960508"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af06e6155df04541341baa14ed0960508"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpaxos_1_1detail_1_1quorum_1_1quorum.html#af06e6155df04541341baa14ed0960508">we_have_a_leader</a> () const </td></tr>
<tr class="memdesc:af06e6155df04541341baa14ed0960508"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if we have one leader in the quorum. <br/></td></tr>
<tr class="memitem:a1ef94008dc9ce6eafa6fbdd2c009034d"><td class="memItemLeft" align="right" valign="top">boost::asio::ip::tcp::endpoint <br class="typebreak"/>
const &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpaxos_1_1detail_1_1quorum_1_1quorum.html#a1ef94008dc9ce6eafa6fbdd2c009034d">our_leader</a> () const </td></tr>
<tr class="memdesc:a1ef94008dc9ce6eafa6fbdd2c009034d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns endpoint of the current leader of the quorum.  <a href="#a1ef94008dc9ce6eafa6fbdd2c009034d"></a><br/></td></tr>
<tr class="memitem:a0d1846a96b840c4e3c48d66758a8577f"><td class="memItemLeft" align="right" valign="top">tcp_connection::pointer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpaxos_1_1detail_1_1quorum_1_1quorum.html#a0d1846a96b840c4e3c48d66758a8577f">our_leader_connection</a> () const </td></tr>
<tr class="memdesc:a0d1846a96b840c4e3c48d66758a8577f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns our leader's <a class="el" href="classpaxos_1_1detail_1_1tcp__connection.html" title="Represents a tcp connection.">tcp_connection</a>.  <a href="#a0d1846a96b840c4e3c48d66758a8577f"></a><br/></td></tr>
<tr class="memitem:adf21fa6c82bac98f9c2f7025e6b3aad5"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classpaxos_1_1detail_1_1quorum_1_1server.html">server</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpaxos_1_1detail_1_1quorum_1_1quorum.html#adf21fa6c82bac98f9c2f7025e6b3aad5">live_servers</a> () const </td></tr>
<tr class="memdesc:adf21fa6c82bac98f9c2f7025e6b3aad5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provides access to all connections to all "live" nodes.  <a href="#adf21fa6c82bac98f9c2f7025e6b3aad5"></a><br/></td></tr>
<tr class="memitem:a1a5ee124d12543d28ca119607c756077"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpaxos_1_1detail_1_1quorum_1_1quorum.html#a1a5ee124d12543d28ca119607c756077">bootstrap</a> ()</td></tr>
<tr class="memdesc:a1a5ee124d12543d28ca119607c756077"><td class="mdescLeft">&#160;</td><td class="mdescRight">Basically a forward to heartbeat ()  <a href="#a1a5ee124d12543d28ca119607c756077"></a><br/></td></tr>
<tr class="memitem:a71913d619e8796ca4cd6a22cb3a62e55"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a71913d619e8796ca4cd6a22cb3a62e55"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpaxos_1_1detail_1_1quorum_1_1quorum.html#a71913d619e8796ca4cd6a22cb3a62e55">add</a> (boost::asio::ip::tcp::endpoint const &amp;endpoint)</td></tr>
<tr class="memdesc:a71913d619e8796ca4cd6a22cb3a62e55"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds new node to the quorum. <br/></td></tr>
<tr class="memitem:ac1d3d4af0dbf2f2686c5ddd17f8b6175"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac1d3d4af0dbf2f2686c5ddd17f8b6175"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpaxos_1_1detail_1_1quorum_1_1quorum.html#ac1d3d4af0dbf2f2686c5ddd17f8b6175">mark_dead</a> (boost::asio::ip::tcp::endpoint const &amp;endpoint)</td></tr>
<tr class="memdesc:ac1d3d4af0dbf2f2686c5ddd17f8b6175"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets server to a 'dead' state. <br/></td></tr>
<tr class="memitem:acc182023920852f6bfef8f0ab2ca942a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acc182023920852f6bfef8f0ab2ca942a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpaxos_1_1detail_1_1quorum_1_1quorum.html#acc182023920852f6bfef8f0ab2ca942a">connection_established</a> (boost::asio::ip::tcp::endpoint const &amp;endpoint, tcp_connection::pointer connection)</td></tr>
<tr class="memdesc:acc182023920852f6bfef8f0ab2ca942a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when a connection has been established with a server. <br/></td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Represents the quorum and provides interface to utility funcitons. </p>

<p>Definition at line <a class="el" href="quorum_8hpp_source.html#l00026">26</a> of file <a class="el" href="quorum_8hpp_source.html">quorum.hpp</a>.</p>
</div><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a66e8d70bf51114cb1ce49bb997aa05b4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">paxos::detail::quorum::quorum::quorum </td>
          <td>(</td>
          <td class="paramtype">boost::asio::io_service &amp;&#160;</td>
          <td class="paramname"><em>io_service</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor for clients. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">io_service</td><td>References the OS'es underlying I/O services</td></tr>
  </table>
  </dd>
</dl>
<p>This constructor assumes we are not part of the quorum. </p>

<p>Definition at line <a class="el" href="quorum_8cpp_source.html#l00014">14</a> of file <a class="el" href="quorum_8cpp_source.html">quorum.cpp</a>.</p>

</div>
</div>
<h2>Member Function Documentation</h2>
<a class="anchor" id="a1a5ee124d12543d28ca119607c756077"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void paxos::detail::quorum::quorum::bootstrap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Basically a forward to heartbeat () </p>
<p>We can simply forward this to heartbeat since that will automatically establish connections / handshakes with hosts in recovery mode. </p>

<p>Definition at line <a class="el" href="quorum_8cpp_source.html#l00319">319</a> of file <a class="el" href="quorum_8cpp_source.html">quorum.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="adf21fa6c82bac98f9c2f7025e6b3aad5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="classpaxos_1_1detail_1_1quorum_1_1server.html">server</a> &gt; paxos::detail::quorum::quorum::live_servers </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Provides access to all connections to all "live" nodes. </p>
<p>This function is useful for when messages need to be broadcasted to all nodes within the quorum. </p>

<p>Definition at line <a class="el" href="quorum_8cpp_source.html#l00287">287</a> of file <a class="el" href="quorum_8cpp_source.html">quorum.cpp</a>.</p>

<p>References <a class="el" href="detail_2quorum_2server_8hpp_source.html#l00056">paxos::detail::quorum::server::state_client</a>, <a class="el" href="detail_2quorum_2server_8hpp_source.html#l00034">paxos::detail::quorum::server::state_dead</a>, <a class="el" href="detail_2quorum_2server_8hpp_source.html#l00050">paxos::detail::quorum::server::state_follower</a>, <a class="el" href="detail_2quorum_2server_8hpp_source.html#l00045">paxos::detail::quorum::server::state_leader</a>, <a class="el" href="detail_2quorum_2server_8hpp_source.html#l00040">paxos::detail::quorum::server::state_non_participant</a>, and <a class="el" href="detail_2quorum_2server_8hpp_source.html#l00029">paxos::detail::quorum::server::state_unknown</a>.</p>

</div>
</div>
<a class="anchor" id="af65f741b04da3027f102ba2fcb7d82b1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void paxos::detail::quorum::quorum::new_leader </td>
          <td>(</td>
          <td class="paramtype">boost::asio::ip::tcp::endpoint const &amp;&#160;</td>
          <td class="paramname"><em>endpoint</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called when a new leader is announced. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">endpoint</td><td>Endpoint of the host that is the new leader </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="quorum_8cpp_source.html#l00072">72</a> of file <a class="el" href="quorum_8cpp_source.html">quorum.cpp</a>.</p>

<p>References <a class="el" href="quorum_8cpp_source.html#l00092">our_endpoint()</a>, <a class="el" href="detail_2quorum_2server_8cpp_source.html#l00064">paxos::detail::quorum::server::set_state()</a>, <a class="el" href="detail_2quorum_2server_8hpp_source.html#l00050">paxos::detail::quorum::server::state_follower</a>, and <a class="el" href="detail_2quorum_2server_8hpp_source.html#l00045">paxos::detail::quorum::server::state_leader</a>.</p>

</div>
</div>
<a class="anchor" id="a291dc085df3ae0ea435e97035b3d32e6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::asio::ip::tcp::endpoint const &amp; paxos::detail::quorum::quorum::our_endpoint </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Access to our own endpoint, so we can identify ourselves. </p>
<dl class="section pre"><dt>Precondition</dt><dd>we_have_our_endpoint () == true </dd></dl>

<p>Definition at line <a class="el" href="quorum_8cpp_source.html#l00092">92</a> of file <a class="el" href="quorum_8cpp_source.html">quorum.cpp</a>.</p>

<p>References <a class="el" href="quorum_8cpp_source.html#l00099">we_have_our_endpoint()</a>.</p>

</div>
</div>
<a class="anchor" id="a1ef94008dc9ce6eafa6fbdd2c009034d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::asio::ip::tcp::endpoint const &amp; paxos::detail::quorum::quorum::our_leader </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns endpoint of the current leader of the quorum. </p>
<dl class="section pre"><dt>Precondition</dt><dd>we_have_a_leader () == true </dd></dl>

<p>Definition at line <a class="el" href="quorum_8cpp_source.html#l00265">265</a> of file <a class="el" href="quorum_8cpp_source.html">quorum.cpp</a>.</p>

<p>References <a class="el" href="detail_2quorum_2server_8hpp_source.html#l00045">paxos::detail::quorum::server::state_leader</a>, and <a class="el" href="quorum_8cpp_source.html#l00249">we_have_a_leader()</a>.</p>

</div>
</div>
<a class="anchor" id="a0d1846a96b840c4e3c48d66758a8577f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tcp_connection::pointer paxos::detail::quorum::quorum::our_leader_connection </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns our leader's <a class="el" href="classpaxos_1_1detail_1_1tcp__connection.html" title="Represents a tcp connection.">tcp_connection</a>. </p>
<dl class="section pre"><dt>Precondition</dt><dd>we_have_a_leader () == true </dd></dl>

<p>Definition at line <a class="el" href="quorum_8cpp_source.html#l00281">281</a> of file <a class="el" href="quorum_8cpp_source.html">quorum.cpp</a>.</p>

<p>References <a class="el" href="detail_2quorum_2server_8cpp_source.html#l00107">paxos::detail::quorum::server::connection()</a>, and <a class="el" href="quorum_8cpp_source.html#l00265">our_leader()</a>.</p>

</div>
</div>
<a class="anchor" id="a3deb81dfd66e4eadd005631c36e4aef2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void paxos::detail::quorum::quorum::reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resets our state completely. </p>
<p>This function is called when some quorum inconsistency is detected between multiple hosts, and this resets the state of all hosts to 'unknown', except our own entry, which is set to 'non_participant'. </p>

<p>Definition at line <a class="el" href="quorum_8cpp_source.html#l00054">54</a> of file <a class="el" href="quorum_8cpp_source.html">quorum.cpp</a>.</p>

<p>References <a class="el" href="quorum_8cpp_source.html#l00092">our_endpoint()</a>, <a class="el" href="detail_2quorum_2server_8hpp_source.html#l00040">paxos::detail::quorum::server::state_non_participant</a>, and <a class="el" href="detail_2quorum_2server_8hpp_source.html#l00029">paxos::detail::quorum::server::state_unknown</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>paxos++/detail/quorum/<a class="el" href="quorum_8hpp_source.html">quorum.hpp</a></li>
<li>paxos++/detail/quorum/<a class="el" href="quorum_8cpp_source.html">quorum.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Oct 4 2012 12:43:49 for libpaxos-cpp by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.2
</small></address>
</body>
</html>
